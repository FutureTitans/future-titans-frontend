(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{20747:function(e,t,n){Promise.resolve().then(n.bind(n,25609))},25609:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(57437),a=n(2265),r=n(32617),o=n(31338),i=n(72643),l=n(21451);let c=(0,n(8301).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var d=n(23930);function u(){let[e,t]=(0,a.useState)(null),[n,u]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{(async()=>{try{let e=await r.SA.getDashboard();t(e)}catch(e){console.error("Failed to fetch dashboard stats:",e)}finally{u(!1)}})()},[]),n)return(0,s.jsx)(d.Z,{message:"Loading dashboard..."});let m=e=>{let{icon:t,label:n,value:a,color:r}=e;return(0,s.jsx)("div",{className:"card hover:shadow-lg transition-all",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-4 rounded-lg ".concat(r),children:(0,s.jsx)(t,{className:"w-8 h-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-neutral-medium text-sm",children:n}),(0,s.jsx)("p",{className:"text-3xl font-bold text-neutral-dark",children:a})]})]})})};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 gradient-text",children:"Admin Dashboard"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsx)(m,{icon:o.Z,label:"Total Students",value:(null==e?void 0:e.totalStudents)||0,color:"bg-primary-red"}),(0,s.jsx)(m,{icon:i.Z,label:"Paid Students",value:(null==e?void 0:e.paidStudents)||0,color:"bg-accent-gold"}),(0,s.jsx)(m,{icon:l.Z,label:"Total Modules",value:(null==e?void 0:e.totalModules)||0,color:"bg-semantic-info"}),(0,s.jsx)(m,{icon:c,label:"Submissions",value:(null==e?void 0:e.totalSubmissions)||0,color:"bg-semantic-success"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Pending Reviews"}),(0,s.jsx)("p",{className:"text-3xl font-bold gradient-text",children:(null==e?void 0:e.pendingReviews)||0}),(0,s.jsx)("p",{className:"text-sm text-neutral-medium mt-2",children:"Submissions awaiting review"})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Average SSI Score"}),(0,s.jsxs)("p",{className:"text-3xl font-bold gradient-text",children:[Math.round((null==e?void 0:e.averageSSI)||0),"/100"]}),(0,s.jsx)("p",{className:"text-sm text-neutral-medium mt-2",children:"Student Solution-Seeking Index"})]})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("h3",{className:"font-bold text-lg mb-6",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,s.jsx)("a",{href:"/admin/students",className:"p-4 bg-gradient-red-gold text-white rounded-lg hover:shadow-lg transition-all text-center font-semibold",children:"\uD83D\uDCCA View Students"}),(0,s.jsx)("a",{href:"/admin/modules",className:"p-4 bg-gradient-red-gold text-white rounded-lg hover:shadow-lg transition-all text-center font-semibold",children:"\uD83D\uDCDA Create Module"}),(0,s.jsx)("a",{href:"/admin/submissions",className:"p-4 bg-gradient-red-gold text-white rounded-lg hover:shadow-lg transition-all text-center font-semibold",children:"\uD83D\uDCCB Review Submissions"})]})]}),(0,s.jsx)("div",{className:"mt-8 text-center text-neutral-medium text-sm",children:(0,s.jsxs)("p",{children:["Last updated: ",new Date().toLocaleString()]})})]})}},23930:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var s=n(57437);function a(e){let{size:t="md",message:n="Loading..."}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"".concat({sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"}[t]," border-4 border-neutral-light border-t-primary-red rounded-full animate-spin")}),n&&(0,s.jsx)("p",{className:"mt-4 text-neutral-medium",children:n})]})}},32617:function(e,t,n){"use strict";n.d(t,{Gg:function(){return d},I8:function(){return i},SA:function(){return m},Yl:function(){return u},mG:function(){return l},qz:function(){return c}});var s=n(83464),a=n(9818);let r="http://localhost:5006/api",o=s.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=(0,a.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e.data,async e=>{var t,n;let i=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===403&&!i._retry){i._retry=!0;let e=(0,a.YV)();if(e)try{let t=await s.Z.post("".concat(r,"/auth/refresh"),{refreshToken:e});return(0,a.uB)(t.data.accessToken),i.headers.Authorization="Bearer ".concat(t.data.accessToken),o(i)}catch(e){return(0,a.H6)(),window.location.href="/login",Promise.reject(e)}}return Promise.reject((null===(n=e.response)||void 0===n?void 0:n.data)||e.message)});let i={signup:e=>o.post("/auth/signup",e),login:e=>o.post("/auth/login",e),refreshToken:e=>o.post("/auth/refresh",{refreshToken:e}),getProfile:()=>o.get("/auth/profile"),updateProfile:e=>o.put("/auth/profile",e)},l={initiatePayment:()=>o.post("/payment/initiate"),verifyPayment:e=>o.post("/payment/verify",e),getPaymentStatus:()=>o.get("/payment/status")},c={getAll:()=>o.get("/modules"),getById:e=>o.get("/modules/".concat(e)),getChapter:(e,t)=>o.get("/modules/".concat(e,"/chapters/").concat(t)),create:e=>o.post("/modules",e),update:(e,t)=>o.put("/modules/".concat(e),t),delete:e=>o.delete("/modules/".concat(e)),publish:e=>o.post("/modules/".concat(e,"/publish")),createChapter:(e,t)=>o.post("/modules/".concat(e,"/chapters"),t),updateChapter:(e,t,n)=>o.put("/modules/".concat(e,"/chapters/").concat(t),n),deleteChapter:(e,t)=>o.delete("/modules/".concat(e,"/chapters/").concat(t)),reorderChapters:(e,t)=>o.post("/modules/".concat(e,"/reorder-chapters"),t)},d={sendMessage:(e,t,n)=>o.post("/chat/".concat(e,"/chapters/").concat(t,"/message"),{message:n}),getChatHistory:(e,t)=>o.get("/chat/".concat(e,"/chapters/").concat(t,"/history")),completeChapter:(e,t)=>o.post("/chat/".concat(e,"/chapters/").concat(t,"/complete")),getSSI:()=>o.get("/chat/ssi"),getReport:()=>o.get("/chat/report"),getStudentChats:e=>o.get("/chat/admin/student/".concat(e,"/chats")),overrideSSI:(e,t)=>o.put("/chat/admin/chat/".concat(e,"/override-ssi"),t),sendGlobalMessage:e=>o.post("/chat/global/message",{message:e}),getGlobalHistory:()=>o.get("/chat/global/history")},u={saveDraft:e=>o.post("/submission/draft",e),submit:e=>o.post("/submission/submit",e,{headers:{"Content-Type":"multipart/form-data"}}),get:()=>o.get("/submission"),update:(e,t)=>o.put("/submission/".concat(e),t),getAll:e=>o.get("/submission/admin/all",{params:e}),getDetails:e=>o.get("/submission/admin/".concat(e)),score:(e,t)=>o.put("/submission/admin/".concat(e,"/score"),t),downloadFile:(e,t)=>o.get("/submission/admin/".concat(e,"/download/").concat(t))},m={getDashboard:()=>o.get("/admin/dashboard"),getStudents:e=>o.get("/admin/students",{params:e}),getStudentDetail:e=>o.get("/admin/students/".concat(e)),updateStudentStatus:(e,t)=>o.put("/admin/students/".concat(e),t),tagStudent:(e,t)=>o.post("/admin/students/".concat(e,"/tag"),t),getAnalytics:()=>o.get("/admin/analytics"),exportStudents:()=>o.get("/admin/export/students"),getSchoolSlugs:()=>o.get("/admin/slugs"),createSchoolSlug:e=>o.post("/admin/slugs",e),updateSchoolSlug:(e,t)=>o.put("/admin/slugs/".concat(e),t),deleteSchoolSlug:e=>o.delete("/admin/slugs/".concat(e)),getStudentsBySlug:e=>o.get("/admin/slugs/".concat(e,"/students"))}},9818:function(e,t,n){"use strict";n.d(t,{$8:function(){return g},GJ:function(){return p},H6:function(){return h},PR:function(){return u},YV:function(){return c},av:function(){return m},bW:function(){return i},dE:function(){return f},uB:function(){return l},zI:function(){return d}});var s=n(64131);let a="future_titans_token",r="future_titans_refresh_token",o="future_titans_user",i=()=>s.Z.get(a)||localStorage.getItem(a),l=e=>{s.Z.set(a,e,{expires:.625}),localStorage.setItem(a,e)},c=()=>s.Z.get(r)||localStorage.getItem(r),d=e=>{s.Z.set(r,e,{expires:7}),localStorage.setItem(r,e)},u=()=>{let e=localStorage.getItem(o);return e?JSON.parse(e):null},m=e=>{localStorage.setItem(o,JSON.stringify(e))},h=()=>{s.Z.remove(a),localStorage.removeItem(a),localStorage.removeItem(r),localStorage.removeItem(o),s.Z.remove(r)},g=()=>!!i(),p=()=>{let e=u();return(null==e?void 0:e.role)==="admin"},f=()=>{let e=u();return(null==e?void 0:e.role)==="student"}},8301:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var o=(e,t)=>{let n=(0,s.forwardRef)((n,o)=>{let{color:i="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:u,...m}=n;return(0,s.createElement)("svg",{ref:o,...a,width:l,height:l,stroke:i,strokeWidth:d?24*Number(c)/Number(l):c,className:"lucide lucide-".concat(r(e)),...m},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...(Array.isArray(u)?u:[u])||[]])});return n.displayName="".concat(e),n}},21451:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(8301).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},72643:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(8301).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},31338:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(8301).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}},function(e){e.O(0,[825,971,117,744],function(){return e(e.s=20747)}),_N_E=e.O()}]);