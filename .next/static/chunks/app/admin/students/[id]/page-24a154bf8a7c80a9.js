(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{44461:function(e,t,s){Promise.resolve().then(s.bind(s,90767))},90767:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(57437),n=s(2265),r=s(99376),o=s(32617),c=s(23930),l=s(46367),i=s(46124),d=s(27369),u=s(37721),m=s(21451);function h(){let e=(0,r.useRouter)(),t=(0,r.useParams)().id,[s,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(!0);if((0,n.useEffect)(()=>{t&&(async()=>{try{let e=await o.SA.getStudentDetail(t);h(e)}catch(t){console.error("Failed to load student detail:",t),e.push("/admin/students")}finally{g(!1)}})()},[t,e]),p)return(0,a.jsx)(c.Z,{message:"Loading student detail..."});if(!s)return null;let{student:x,aiChats:f}=s,v=x.modulesProgress||[];return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/admin/students"),className:"flex items-center gap-2 text-primary-red hover:text-primary-darkRed transition",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),"Back to Students"]}),(0,a.jsx)("h1",{className:"text-2xl font-bold gradient-text",children:"Student Detail"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-red-gold flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold",children:x.name}),(0,a.jsx)("p",{className:"text-sm text-neutral-medium",children:x.email}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium mt-1",children:[x.school," \xb7 ",x.city,", ",x.country]})]})]}),(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-accent-gold"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium mb-1",children:"Overall SSI"}),(0,a.jsxs)("p",{className:"text-2xl font-bold gradient-text",children:[x.ssiScore||0,"/100"]})]})]}),(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 text-semantic-success"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium mb-1",children:"Idea Submission"}),(0,a.jsx)("p",{className:"font-semibold",children:x.ideaSubmission?"Submitted":"Not submitted"})]})]})]}),v.length>0&&(0,a.jsxs)("div",{className:"card mb-6",children:[(0,a.jsxs)("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),"Module Progress"]}),(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"flex justify-between items-center border border-neutral-border rounded-lg px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:(null===(t=e.moduleId)||void 0===t?void 0:t.title)||"Module"}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium",children:[e.completionPercentage||0,"% complete"]})]}),(0,a.jsx)("div",{className:"w-32 bg-neutral-light h-2 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-2 bg-gradient-red-gold rounded-full",style:{width:"".concat(e.completionPercentage||0,"%")}})})]},(null===(s=e.moduleId)||void 0===s?void 0:s._id)||e.moduleId)})})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("h2",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"SURGE AI Sessions"]}),f&&0!==f.length?(0,a.jsx)("div",{className:"space-y-3",children:f.map(e=>{var t,s,n,r,o;return(0,a.jsxs)("div",{className:"border border-neutral-border rounded-lg px-4 py-3 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-semibold text-sm",children:[(null===(t=e.moduleId)||void 0===t?void 0:t.title)||"Global"," ",(null===(s=e.chapterId)||void 0===s?void 0:s.title)?"\xb7 ".concat(e.chapterId.title):""]}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium",children:["Started: ",new Date(e.startedAt).toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium",children:["Messages: ",(null===(n=e.conversation)||void 0===n?void 0:n.length)||0," \xb7 Completed:"," ",e.isCompleted?"Yes":"No"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium mb-1",children:"SSI (this chat)"}),(0,a.jsxs)("p",{className:"font-bold text-primary-red",children:[null!==(o=null===(r=e.ssiScore)||void 0===r?void 0:r.overall)&&void 0!==o?o:0,"/100"]})]})]},e._id)})}):(0,a.jsx)("p",{className:"text-sm text-neutral-medium",children:"No AI chats recorded yet."})]})]})}},23930:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(57437);function n(e){let{size:t="md",message:s="Loading..."}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"".concat({sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"}[t]," border-4 border-neutral-light border-t-primary-red rounded-full animate-spin")}),s&&(0,a.jsx)("p",{className:"mt-4 text-neutral-medium",children:s})]})}},32617:function(e,t,s){"use strict";s.d(t,{Gg:function(){return d},I8:function(){return c},SA:function(){return m},Yl:function(){return u},mG:function(){return l},qz:function(){return i}});var a=s(83464),n=s(9818);let r="http://localhost:5006/api",o=a.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let t=(0,n.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e.data,async e=>{var t,s;let c=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===403&&!c._retry){c._retry=!0;let e=(0,n.YV)();if(e)try{let t=await a.Z.post("".concat(r,"/auth/refresh"),{refreshToken:e});return(0,n.uB)(t.data.accessToken),c.headers.Authorization="Bearer ".concat(t.data.accessToken),o(c)}catch(e){return(0,n.H6)(),window.location.href="/login",Promise.reject(e)}}return Promise.reject((null===(s=e.response)||void 0===s?void 0:s.data)||e.message)});let c={signup:e=>o.post("/auth/signup",e),login:e=>o.post("/auth/login",e),refreshToken:e=>o.post("/auth/refresh",{refreshToken:e}),getProfile:()=>o.get("/auth/profile"),updateProfile:e=>o.put("/auth/profile",e)},l={initiatePayment:()=>o.post("/payment/initiate"),verifyPayment:e=>o.post("/payment/verify",e),getPaymentStatus:()=>o.get("/payment/status")},i={getAll:()=>o.get("/modules"),getById:e=>o.get("/modules/".concat(e)),getChapter:(e,t)=>o.get("/modules/".concat(e,"/chapters/").concat(t)),create:e=>o.post("/modules",e),update:(e,t)=>o.put("/modules/".concat(e),t),delete:e=>o.delete("/modules/".concat(e)),publish:e=>o.post("/modules/".concat(e,"/publish")),createChapter:(e,t)=>o.post("/modules/".concat(e,"/chapters"),t),updateChapter:(e,t,s)=>o.put("/modules/".concat(e,"/chapters/").concat(t),s),deleteChapter:(e,t)=>o.delete("/modules/".concat(e,"/chapters/").concat(t)),reorderChapters:(e,t)=>o.post("/modules/".concat(e,"/reorder-chapters"),t)},d={sendMessage:(e,t,s)=>o.post("/chat/".concat(e,"/chapters/").concat(t,"/message"),{message:s}),getChatHistory:(e,t)=>o.get("/chat/".concat(e,"/chapters/").concat(t,"/history")),completeChapter:(e,t)=>o.post("/chat/".concat(e,"/chapters/").concat(t,"/complete")),getSSI:()=>o.get("/chat/ssi"),getReport:()=>o.get("/chat/report"),getStudentChats:e=>o.get("/chat/admin/student/".concat(e,"/chats")),overrideSSI:(e,t)=>o.put("/chat/admin/chat/".concat(e,"/override-ssi"),t),sendGlobalMessage:e=>o.post("/chat/global/message",{message:e}),getGlobalHistory:()=>o.get("/chat/global/history")},u={saveDraft:e=>o.post("/submission/draft",e),submit:e=>o.post("/submission/submit",e,{headers:{"Content-Type":"multipart/form-data"}}),get:()=>o.get("/submission"),update:(e,t)=>o.put("/submission/".concat(e),t),getAll:e=>o.get("/submission/admin/all",{params:e}),getDetails:e=>o.get("/submission/admin/".concat(e)),score:(e,t)=>o.put("/submission/admin/".concat(e,"/score"),t),downloadFile:(e,t)=>o.get("/submission/admin/".concat(e,"/download/").concat(t))},m={getDashboard:()=>o.get("/admin/dashboard"),getStudents:e=>o.get("/admin/students",{params:e}),getStudentDetail:e=>o.get("/admin/students/".concat(e)),updateStudentStatus:(e,t)=>o.put("/admin/students/".concat(e),t),tagStudent:(e,t)=>o.post("/admin/students/".concat(e,"/tag"),t),getAnalytics:()=>o.get("/admin/analytics"),exportStudents:()=>o.get("/admin/export/students"),getSchoolSlugs:()=>o.get("/admin/slugs"),createSchoolSlug:e=>o.post("/admin/slugs",e),updateSchoolSlug:(e,t)=>o.put("/admin/slugs/".concat(e),t),deleteSchoolSlug:e=>o.delete("/admin/slugs/".concat(e)),getStudentsBySlug:e=>o.get("/admin/slugs/".concat(e,"/students"))}},9818:function(e,t,s){"use strict";s.d(t,{$8:function(){return p},GJ:function(){return g},H6:function(){return h},PR:function(){return u},YV:function(){return i},av:function(){return m},bW:function(){return c},dE:function(){return x},uB:function(){return l},zI:function(){return d}});var a=s(64131);let n="future_titans_token",r="future_titans_refresh_token",o="future_titans_user",c=()=>a.Z.get(n)||localStorage.getItem(n),l=e=>{a.Z.set(n,e,{expires:.625}),localStorage.setItem(n,e)},i=()=>a.Z.get(r)||localStorage.getItem(r),d=e=>{a.Z.set(r,e,{expires:7}),localStorage.setItem(r,e)},u=()=>{let e=localStorage.getItem(o);return e?JSON.parse(e):null},m=e=>{localStorage.setItem(o,JSON.stringify(e))},h=()=>{a.Z.remove(n),localStorage.removeItem(n),localStorage.removeItem(r),localStorage.removeItem(o),a.Z.remove(r)},p=()=>!!c(),g=()=>{let e=u();return(null==e?void 0:e.role)==="admin"},x=()=>{let e=u();return(null==e?void 0:e.role)==="student"}},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8301:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var o=(e,t)=>{let s=(0,a.forwardRef)((s,o)=>{let{color:c="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,children:u,...m}=s;return(0,a.createElement)("svg",{ref:o,...n,width:l,height:l,stroke:c,strokeWidth:d?24*Number(i)/Number(l):i,className:"lucide lucide-".concat(r(e)),...m},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...(Array.isArray(u)?u:[u])||[]])});return s.displayName="".concat(e),s}},46367:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},21451:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},27369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},37721:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},46124:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[825,971,117,744],function(){return e(e.s=44461)}),_N_E=e.O()}]);