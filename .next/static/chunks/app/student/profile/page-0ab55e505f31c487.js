(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{83344:function(e,t,s){Promise.resolve().then(s.bind(s,5283))},5283:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(57437),r=s(2265),n=s(99376),c=s(27648),l=s(32617),i=s(9818),o=s(23930),d=s(46367),u=s(46124),m=s(8301);let h=(0,m.Z)("School",[["path",{d:"m4 6 8-4 8 4",key:"1q0ilc"}],["path",{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2",key:"1vwozw"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]),p=(0,m.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=(0,m.Z)("Globe2",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3v0a2 2 0 0 1 2 2v0c0 1.1.9 2 2 2v0a2 2 0 0 0 2-2v0c0-1.1.9-2 2-2h3.17",key:"1fi5u6"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2v0a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"xsiumc"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var g=s(37721);function f(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(null),[m,f]=(0,r.useState)(!0);if((0,r.useEffect)(()=>{if(!(0,i.dE)()){e.push("/login");return}(async()=>{try{let e=await l.I8.getProfile();s(e)}catch(e){console.error("Failed to load profile:",e)}finally{f(!1)}})()},[e]),m)return(0,a.jsx)(o.Z,{message:"Loading your profile..."});if(!t)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-neutral-medium",children:"Unable to load profile."}),(0,a.jsx)("button",{onClick:()=>e.push("/student/dashboard"),className:"mt-4 px-4 py-2 rounded-lg bg-primary-red text-white hover:bg-primary-darkRed transition",children:"Back to Dashboard"})]})});let v=t.modulesProgress||[],y=v.filter(e=>(e.completionPercentage||0)>=100).length;return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-white-light",children:[(0,a.jsx)("div",{className:"bg-white border-b border-neutral-border",children:(0,a.jsx)("div",{className:"container-lg py-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold gradient-text",children:"Your Profile"}),(0,a.jsx)("p",{className:"text-neutral-medium",children:"View your account and learning progress"})]}),(0,a.jsxs)("button",{onClick:()=>e.push("/student/dashboard"),className:"text-primary-red hover:text-primary-darkRed transition flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Back to Dashboard"]})]})})}),(0,a.jsxs)("div",{className:"container-lg py-8 space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"card md:col-span-2 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-gradient-red-gold flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-neutral-medium",children:t.email}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium mt-1",children:["Joined ",new Date(t.createdAt).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-medium mb-1",children:"Payment Status"}),(0,a.jsx)("p",{className:"font-semibold",children:t.isPaid?"âœ… Paid":"\uD83D\uDD12 Not yet paid"}),t.paymentDate&&(0,a.jsxs)("p",{className:"text-xs text-neutral-medium mt-1",children:["Paid on ",new Date(t.paymentDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(h,{className:"w-5 h-5 text-primary-red"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium",children:"School"}),(0,a.jsx)("p",{className:"font-semibold",children:t.school}),t.schoolSlug&&(0,a.jsxs)("p",{className:"text-xs text-neutral-medium mt-1",children:["Cohort: ",(0,a.jsx)("span",{className:"font-mono",children:t.schoolSlug})]})]})]}),(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(p,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium",children:"City"}),(0,a.jsx)("p",{className:"font-semibold",children:t.city})]})]}),(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(x,{className:"w-5 h-5 text-semantic-info"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-medium",children:"Country"}),(0,a.jsx)("p",{className:"font-semibold",children:t.country})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-medium mb-1",children:"Modules Started"}),(0,a.jsx)("p",{className:"text-2xl font-bold gradient-text",children:v.length})]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("p",{className:"text-sm text-neutral-medium mb-1",children:"Modules Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold gradient-text",children:y})]}),(0,a.jsxs)("div",{className:"card flex items-center gap-3",children:[(0,a.jsx)(g.Z,{className:"w-6 h-6 text-accent-gold"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-neutral-medium mb-1",children:"Idea Submission"}),t.ideaSubmission?(0,a.jsx)("p",{className:"font-semibold",children:"Submitted"}):(0,a.jsx)("p",{className:"font-semibold",children:"Not yet submitted"})]})]})]}),v.length>0&&(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Module Progress"}),(0,a.jsx)(c.default,{href:"/student/modules",className:"text-primary-red hover:text-primary-darkRed text-sm transition",children:"Go to Modules"})]}),(0,a.jsx)("div",{className:"space-y-3",children:v.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"flex justify-between items-center border border-neutral-border rounded-lg px-4 py-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-sm",children:(null===(t=e.moduleId)||void 0===t?void 0:t.title)||"Module"}),(0,a.jsxs)("p",{className:"text-xs text-neutral-medium",children:[e.completionPercentage||0,"% complete"]})]}),(0,a.jsx)("div",{className:"w-32 bg-neutral-light h-2 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-2 bg-gradient-red-gold rounded-full",style:{width:"".concat(e.completionPercentage||0,"%")}})})]},(null===(s=e.moduleId)||void 0===s?void 0:s._id)||e.moduleId)})})]})]})]})}},23930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(57437);function r(e){let{size:t="md",message:s="Loading..."}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"".concat({sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"}[t]," border-4 border-neutral-light border-t-primary-red rounded-full animate-spin")}),s&&(0,a.jsx)("p",{className:"mt-4 text-neutral-medium",children:s})]})}},32617:function(e,t,s){"use strict";s.d(t,{Gg:function(){return d},I8:function(){return l},SA:function(){return m},Yl:function(){return u},mG:function(){return i},qz:function(){return o}});var a=s(83464),r=s(9818);let n="http://localhost:5006/api",c=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{let t=(0,r.bW)();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e.data,async e=>{var t,s;let l=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===403&&!l._retry){l._retry=!0;let e=(0,r.YV)();if(e)try{let t=await a.Z.post("".concat(n,"/auth/refresh"),{refreshToken:e});return(0,r.uB)(t.data.accessToken),l.headers.Authorization="Bearer ".concat(t.data.accessToken),c(l)}catch(e){return(0,r.H6)(),window.location.href="/login",Promise.reject(e)}}return Promise.reject((null===(s=e.response)||void 0===s?void 0:s.data)||e.message)});let l={signup:e=>c.post("/auth/signup",e),login:e=>c.post("/auth/login",e),refreshToken:e=>c.post("/auth/refresh",{refreshToken:e}),getProfile:()=>c.get("/auth/profile"),updateProfile:e=>c.put("/auth/profile",e)},i={initiatePayment:()=>c.post("/payment/initiate"),verifyPayment:e=>c.post("/payment/verify",e),getPaymentStatus:()=>c.get("/payment/status")},o={getAll:()=>c.get("/modules"),getById:e=>c.get("/modules/".concat(e)),getChapter:(e,t)=>c.get("/modules/".concat(e,"/chapters/").concat(t)),create:e=>c.post("/modules",e),update:(e,t)=>c.put("/modules/".concat(e),t),delete:e=>c.delete("/modules/".concat(e)),publish:e=>c.post("/modules/".concat(e,"/publish")),createChapter:(e,t)=>c.post("/modules/".concat(e,"/chapters"),t),updateChapter:(e,t,s)=>c.put("/modules/".concat(e,"/chapters/").concat(t),s),deleteChapter:(e,t)=>c.delete("/modules/".concat(e,"/chapters/").concat(t)),reorderChapters:(e,t)=>c.post("/modules/".concat(e,"/reorder-chapters"),t)},d={sendMessage:(e,t,s)=>c.post("/chat/".concat(e,"/chapters/").concat(t,"/message"),{message:s}),getChatHistory:(e,t)=>c.get("/chat/".concat(e,"/chapters/").concat(t,"/history")),completeChapter:(e,t)=>c.post("/chat/".concat(e,"/chapters/").concat(t,"/complete")),getSSI:()=>c.get("/chat/ssi"),getReport:()=>c.get("/chat/report"),getStudentChats:e=>c.get("/chat/admin/student/".concat(e,"/chats")),overrideSSI:(e,t)=>c.put("/chat/admin/chat/".concat(e,"/override-ssi"),t),sendGlobalMessage:e=>c.post("/chat/global/message",{message:e}),getGlobalHistory:()=>c.get("/chat/global/history")},u={saveDraft:e=>c.post("/submission/draft",e),submit:e=>c.post("/submission/submit",e,{headers:{"Content-Type":"multipart/form-data"}}),get:()=>c.get("/submission"),update:(e,t)=>c.put("/submission/".concat(e),t),getAll:e=>c.get("/submission/admin/all",{params:e}),getDetails:e=>c.get("/submission/admin/".concat(e)),score:(e,t)=>c.put("/submission/admin/".concat(e,"/score"),t),downloadFile:(e,t)=>c.get("/submission/admin/".concat(e,"/download/").concat(t))},m={getDashboard:()=>c.get("/admin/dashboard"),getStudents:e=>c.get("/admin/students",{params:e}),getStudentDetail:e=>c.get("/admin/students/".concat(e)),updateStudentStatus:(e,t)=>c.put("/admin/students/".concat(e),t),tagStudent:(e,t)=>c.post("/admin/students/".concat(e,"/tag"),t),getAnalytics:()=>c.get("/admin/analytics"),exportStudents:()=>c.get("/admin/export/students"),getSchoolSlugs:()=>c.get("/admin/slugs"),createSchoolSlug:e=>c.post("/admin/slugs",e),updateSchoolSlug:(e,t)=>c.put("/admin/slugs/".concat(e),t),deleteSchoolSlug:e=>c.delete("/admin/slugs/".concat(e)),getStudentsBySlug:e=>c.get("/admin/slugs/".concat(e,"/students"))}},9818:function(e,t,s){"use strict";s.d(t,{$8:function(){return p},GJ:function(){return x},H6:function(){return h},PR:function(){return u},YV:function(){return o},av:function(){return m},bW:function(){return l},dE:function(){return g},uB:function(){return i},zI:function(){return d}});var a=s(64131);let r="future_titans_token",n="future_titans_refresh_token",c="future_titans_user",l=()=>a.Z.get(r)||localStorage.getItem(r),i=e=>{a.Z.set(r,e,{expires:.625}),localStorage.setItem(r,e)},o=()=>a.Z.get(n)||localStorage.getItem(n),d=e=>{a.Z.set(n,e,{expires:7}),localStorage.setItem(n,e)},u=()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):null},m=e=>{localStorage.setItem(c,JSON.stringify(e))},h=()=>{a.Z.remove(r),localStorage.removeItem(r),localStorage.removeItem(n),localStorage.removeItem(c),a.Z.remove(n)},p=()=>!!l(),x=()=>{let e=u();return(null==e?void 0:e.role)==="admin"},g=()=>{let e=u();return(null==e?void 0:e.role)==="student"}},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},46367:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37721:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},46124:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(8301).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[825,589,971,117,744],function(){return e(e.s=83344)}),_N_E=e.O()}]);