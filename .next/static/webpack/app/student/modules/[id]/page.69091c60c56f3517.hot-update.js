"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/student/modules/[id]/page",{

/***/ "(app-pages-browser)/./components/student/AIChat.js":
/*!**************************************!*\
  !*** ./components/student/AIChat.js ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AIChatComponent; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./lib/api.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-2.mjs\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-x.mjs\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/loader.mjs\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/check-circle.mjs\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.mjs\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Loader,Send,Trophy,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nconst AUTO_SURGE_SEED = \"__AUTO_SURGE_START__\";\nfunction AIChatComponent(param) {\n    let { moduleId, chapterId } = param;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [input, setInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [ssiScore, setSSIScore] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [ttsEnabled, setTtsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [voice, setVoice] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCompleted, setIsCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [allModulesCompleted, setAllModulesCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [finishing, setFinishing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const loadHistory = async ()=>{\n            try {\n                const data = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.aiChat.getChatHistory(moduleId, chapterId);\n                setMessages(data.conversation);\n                if (data.ssiScore) {\n                    setSSIScore(data.ssiScore);\n                }\n                setIsCompleted(data.isCompleted || false);\n                // Check if all modules and chapters are completed\n                // This is a simplified check - the backend will verify all chapters are actually completed\n                try {\n                    const profile = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.auth.getProfile();\n                    const modulesProgress = (profile === null || profile === void 0 ? void 0 : profile.modulesProgress) || [];\n                    const hasModules = modulesProgress.length > 0;\n                    // Check if all modules show 100% completion (backend verifies actual chapter completion)\n                    const allCompleted = hasModules && modulesProgress.every((m)=>(m.completionPercentage || 0) >= 100);\n                    setAllModulesCompleted(allCompleted);\n                } catch (e) {\n                    console.error(\"Failed to check module completion:\", e);\n                }\n                // Auto-start SURGE session: if no conversation yet, trigger the first AI question\n                if (!data.conversation || data.conversation.length === 0 && !data.isCompleted) {\n                    try {\n                        setIsLoading(true);\n                        // Send a hidden seed message so the engine can generate the first question\n                        await _lib_api__WEBPACK_IMPORTED_MODULE_3__.aiChat.sendMessage(moduleId, chapterId, AUTO_SURGE_SEED);\n                        // Reload history so we pick up the assistant's first question\n                        const seeded = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.aiChat.getChatHistory(moduleId, chapterId);\n                        setMessages(seeded.conversation);\n                        if (seeded.ssiScore) setSSIScore(seeded.ssiScore);\n                        setIsCompleted(seeded.isCompleted || false);\n                    } catch (e) {\n                        console.error(\"Failed to auto-start SURGE chat:\", e);\n                    } finally{\n                        setIsLoading(false);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Failed to load chat history:\", error);\n            }\n        };\n        loadHistory();\n    }, [\n        moduleId,\n        chapterId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    // Load best-available TTS voice once\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if ( false || !window.speechSynthesis) return;\n        const pickBestVoice = ()=>{\n            const voices = window.speechSynthesis.getVoices();\n            if (!voices || voices.length === 0) return;\n            // Prefer high-quality English neural voices\n            const preferredOrder = [\n                \"Google US English\",\n                \"Google UK English\",\n                \"Microsoft Guy\",\n                \"Microsoft Aria\"\n            ];\n            let selected = voices.find((v)=>preferredOrder.some((name)=>v.name.includes(name))) || voices.find((v)=>v.lang === \"en-US\") || voices.find((v)=>v.lang.startsWith(\"en\")) || voices[0];\n            setVoice(selected || null);\n        };\n        pickBestVoice();\n        if (window.speechSynthesis.getVoices().length === 0) {\n            window.speechSynthesis.addEventListener(\"voiceschanged\", pickBestVoice);\n            return ()=>{\n                window.speechSynthesis.removeEventListener(\"voiceschanged\", pickBestVoice);\n            };\n        }\n    }, []);\n    // TTS for latest assistant message\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!ttsEnabled || \"object\" === \"undefined\" || !window.speechSynthesis) return;\n        const last = messages[messages.length - 1];\n        if (!last || last.role !== \"assistant\" || !last.message) return;\n        try {\n            const synth = window.speechSynthesis;\n            if (!synth) return;\n            synth.cancel();\n            const utterance = new SpeechSynthesisUtterance(last.message);\n            if (voice) {\n                utterance.voice = voice;\n            } else {\n                utterance.lang = \"en-US\";\n            }\n            // Slightly tuned for more natural feel\n            utterance.rate = 1.0;\n            utterance.pitch = 1.05;\n            utterance.volume = 1.0;\n            synth.speak(utterance);\n        } catch (e) {\n            console.warn(\"TTS not available\", e);\n        }\n    }, [\n        messages,\n        ttsEnabled,\n        voice\n    ]);\n    const handleSendMessage = async (e)=>{\n        e.preventDefault();\n        if (!input.trim() || isCompleted) return;\n        const userMessage = {\n            role: \"user\",\n            message: input,\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                userMessage\n            ]);\n        setInput(\"\");\n        setIsLoading(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.aiChat.sendMessage(moduleId, chapterId, input);\n            const aiMessage = {\n                role: \"assistant\",\n                message: response.aiMessage,\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    aiMessage\n                ]);\n            if (response.ssiScore) {\n                setSSIScore(response.ssiScore);\n            }\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n            const errorMessage = {\n                role: \"assistant\",\n                message: (error === null || error === void 0 ? void 0 : error.error) || (error === null || error === void 0 ? void 0 : error.message) || \"Sorry, I encountered an error. Please try again.\",\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    errorMessage\n                ]);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const handleFinishChapter = async ()=>{\n        if (isCompleted || finishing) return;\n        setFinishing(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.aiChat.finishChapterChat(moduleId, chapterId);\n            setIsCompleted(true);\n            if (response.finalSSI) {\n                setSSIScore(response.finalSSI);\n            }\n            // Always refresh profile to get updated completion status\n            try {\n                const profile = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.auth.getProfile();\n                const modulesProgress = (profile === null || profile === void 0 ? void 0 : profile.modulesProgress) || [];\n                const hasModules = modulesProgress.length > 0;\n                const allCompleted = hasModules && modulesProgress.every((m)=>(m.completionPercentage || 0) >= 100);\n                setAllModulesCompleted(allCompleted || response.allModulesCompleted);\n                // Log for debugging\n                console.log(\"Module completion status:\", {\n                    modulesProgress,\n                    allCompleted,\n                    backendSays: response.allModulesCompleted\n                });\n            } catch (e) {\n                console.error(\"Failed to refresh completion status:\", e);\n                // Fallback to backend response\n                setAllModulesCompleted(response.allModulesCompleted || false);\n            }\n            // Show appropriate message\n            if (response.allModulesCompleted) {\n                alert(\"\\uD83C\\uDF89 Congratulations! You've completed all modules and chapters! You can now submit your idea.\");\n            } else {\n                alert(\"✅ Chapter AI session completed! Your final SSI score for this chapter has been recorded.\");\n            }\n        } catch (error) {\n            console.error(\"Failed to finish chapter:\", error);\n            alert(\"❌ Failed to finish chapter: \" + ((error === null || error === void 0 ? void 0 : error.error) || (error === null || error === void 0 ? void 0 : error.message) || \"Unknown error\"));\n        } finally{\n            setFinishing(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col bg-white rounded-2xl border border-neutral-border/60 shadow-lg overflow-hidden md:h-[520px] md:max-h-[70vh]\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gradient-red-gold text-white px-4 py-3 md:p-6 flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-xl font-bold mb-1\",\n                                children: \"AI Co-Founder\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 217,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm opacity-90\",\n                                children: \"Your personalized learning partner\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 218,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 216,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        type: \"button\",\n                        onClick: ()=>setTtsEnabled((v)=>!v),\n                        className: \"flex items-center gap-1 text-xs bg-white/10 px-3 py-1 rounded-full hover:bg-white/20 transition\",\n                        children: [\n                            ttsEnabled ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 225,\n                                columnNumber: 25\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 225,\n                                columnNumber: 59\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: ttsEnabled ? \"Voice On\" : \"Voice Off\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 226,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 220,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto px-4 py-3 md:p-6 space-y-4 bg-neutral-light/40 scrollbar-thin scrollbar-thumb-neutral-border/70 scrollbar-track-transparent\",\n                children: [\n                    messages.filter((m)=>!(m.role === \"user\" && m.message === AUTO_SURGE_SEED)).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center h-full text-center\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-neutral-medium mb-2\",\n                                    children: \"Start your conversation\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                    lineNumber: 237,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-neutral-medium\",\n                                    children: \"Ask questions and share your ideas\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                    lineNumber: 238,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                            lineNumber: 236,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 235,\n                        columnNumber: 11\n                    }, this) : messages.filter((msg)=>!(msg.role === \"user\" && msg.message === AUTO_SURGE_SEED)).map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex \".concat(msg.role === \"user\" ? \"justify-end\" : \"justify-start\"),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"max-w-xs px-4 py-2 rounded-lg \".concat(msg.role === \"user\" ? \"bg-primary-red text-white rounded-br-none\" : \"bg-neutral-light text-neutral-dark rounded-bl-none\"),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        children: msg.message\n                                    }, void 0, false, {\n                                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                        lineNumber: 258,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs opacity-70 mt-1 block\",\n                                        children: new Date(msg.timestamp).toLocaleTimeString()\n                                    }, void 0, false, {\n                                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                        lineNumber: 259,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 251,\n                                columnNumber: 17\n                            }, this)\n                        }, idx, false, {\n                            fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                            lineNumber: 247,\n                            columnNumber: 15\n                        }, this)),\n                    isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-start\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-neutral-light p-4 rounded-lg animate-pulse\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                className: \"w-5 h-5 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 269,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                            lineNumber: 268,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 267,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 231,\n                columnNumber: 7\n            }, this),\n            ssiScore && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-neutral-border p-4 bg-primary-lightRed\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm font-semibold text-primary-red mb-2\",\n                        children: [\n                            \"Current SSI Score: \",\n                            ssiScore.overall,\n                            \"/100\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 279,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-5 gap-2 text-xs\",\n                        children: [\n                            {\n                                label: \"S\",\n                                key: \"selfAwareness\"\n                            },\n                            {\n                                label: \"U\",\n                                key: \"understandingOpportunities\"\n                            },\n                            {\n                                label: \"R\",\n                                key: \"resilience\"\n                            },\n                            {\n                                label: \"G\",\n                                key: \"growthExecution\"\n                            },\n                            {\n                                label: \"E\",\n                                key: \"entrepreneurialLeadership\"\n                            }\n                        ].map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs font-bold text-primary-red\",\n                                        children: item.label\n                                    }, void 0, false, {\n                                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                        lineNumber: 289,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs\",\n                                        children: [\n                                            ssiScore[item.key] || 0,\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                        lineNumber: 290,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, item.key, true, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 288,\n                                columnNumber: 15\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 280,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 278,\n                columnNumber: 9\n            }, this),\n            !isCompleted && messages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-neutral-border p-4 bg-accent-gold bg-opacity-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleFinishChapter,\n                        disabled: finishing || isLoading,\n                        className: \"w-full flex items-center justify-center gap-2 bg-accent-gold text-white px-4 py-3 rounded-lg hover:bg-accent-amber disabled:opacity-50 transition-colors font-semibold\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 305,\n                                columnNumber: 13\n                            }, this),\n                            finishing ? \"Finishing...\" : \"Finish Chapter & Finalize SSI Score\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 300,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-neutral-medium mt-2 text-center\",\n                        children: \"Click to end this chapter's AI session and record your final SSI score\"\n                    }, void 0, false, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 308,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 299,\n                columnNumber: 9\n            }, this),\n            isCompleted && allModulesCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-neutral-border p-4 bg-semantic-success bg-opacity-10\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-semibold text-semantic-success mb-1\",\n                                children: \"\\uD83C\\uDF89 Congratulations!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 318,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-neutral-medium\",\n                                children: \"You've completed all modules and chapters!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 319,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 317,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(\"/student/submission\"),\n                        className: \"w-full flex items-center justify-center gap-2 bg-semantic-success text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 325,\n                                columnNumber: 13\n                            }, this),\n                            \"Submit Your Idea\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                        lineNumber: 321,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 316,\n                columnNumber: 9\n            }, this),\n            !isCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleSendMessage,\n                className: \"border-t border-neutral-border p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: input,\n                            onChange: (e)=>setInput(e.target.value),\n                            placeholder: \"Type your message...\",\n                            className: \"flex-1 px-4 py-2 border border-neutral-border rounded-lg focus:outline-none focus:border-primary-red\",\n                            disabled: isLoading\n                        }, void 0, false, {\n                            fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                            lineNumber: 335,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            disabled: isLoading || !input.trim(),\n                            className: \"bg-primary-red text-white px-4 py-2 rounded-lg hover:bg-primary-darkRed disabled:opacity-50 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Loader_Send_Trophy_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                className: \"w-5 h-5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                                lineNumber: 348,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                            lineNumber: 343,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                    lineNumber: 334,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 333,\n                columnNumber: 9\n            }, this),\n            isCompleted && !allModulesCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-neutral-border p-4 bg-neutral-light text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-sm text-neutral-medium\",\n                    children: \"✅ This chapter's AI session is complete. Your final SSI score has been recorded.\"\n                }, void 0, false, {\n                    fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                    lineNumber: 357,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n                lineNumber: 356,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/components/student/AIChat.js\",\n        lineNumber: 213,\n        columnNumber: 5\n    }, this);\n}\n_s(AIChatComponent, \"+L6AszGpWt9yP/xRsRquMttjRDY=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = AIChatComponent;\nvar _c;\n$RefreshReg$(_c, \"AIChatComponent\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc3R1ZGVudC9BSUNoYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFb0Q7QUFDUjtBQUNIO0FBQzBDO0FBRW5GLE1BQU1ZLGtCQUFrQjtBQUVULFNBQVNDLGdCQUFnQixLQUF1QjtRQUF2QixFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRSxHQUF2Qjs7SUFDdEMsTUFBTUMsU0FBU2IsMERBQVNBO0lBQ3hCLE1BQU0sQ0FBQ2MsVUFBVUMsWUFBWSxHQUFHbEIsK0NBQVFBLENBQUMsRUFBRTtJQUMzQyxNQUFNLENBQUNtQixPQUFPQyxTQUFTLEdBQUdwQiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNxQixXQUFXQyxhQUFhLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUN1QixVQUFVQyxZQUFZLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUN6QyxNQUFNLENBQUN5QixZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUMyQixPQUFPQyxTQUFTLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUM2QixhQUFhQyxlQUFlLEdBQUc5QiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUMrQixxQkFBcUJDLHVCQUF1QixHQUFHaEMsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDaUMsV0FBV0MsYUFBYSxHQUFHbEMsK0NBQVFBLENBQUM7SUFDM0MsTUFBTW1DLGlCQUFpQmpDLDZDQUFNQSxDQUFDO0lBRTlCRCxnREFBU0EsQ0FBQztRQUNSLE1BQU1tQyxjQUFjO1lBQ2xCLElBQUk7Z0JBQ0YsTUFBTUMsT0FBTyxNQUFNakMsNENBQU1BLENBQUNrQyxjQUFjLENBQUN4QixVQUFVQztnQkFDbkRHLFlBQVltQixLQUFLRSxZQUFZO2dCQUM3QixJQUFJRixLQUFLZCxRQUFRLEVBQUU7b0JBQ2pCQyxZQUFZYSxLQUFLZCxRQUFRO2dCQUMzQjtnQkFD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Ozs7Ozs7OztZQU9uQyxDQUFDekUsNkJBQ0EsOERBQUM0RjtnQkFBS0MsVUFBVXJDO2dCQUFtQmlCLFdBQVU7MEJBQzNDLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNuRjs0QkFDQ3VGLE1BQUs7NEJBQ0xpQixPQUFPeEc7NEJBQ1B5RyxVQUFVLENBQUMzRSxJQUFNN0IsU0FBUzZCLEVBQUU0RSxNQUFNLENBQUNGLEtBQUs7NEJBQ3hDRyxhQUFZOzRCQUNaeEIsV0FBVTs0QkFDVmlCLFVBQVVsRzs7Ozs7O3NDQUVaLDhEQUFDb0Y7NEJBQ0NDLE1BQUs7NEJBQ0xhLFVBQVVsRyxhQUFhLENBQUNGLE1BQU1vRSxJQUFJOzRCQUNsQ2UsV0FBVTtzQ0FFViw0RUFBQ2hHLDBIQUFJQTtnQ0FBQ2dHLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFPdkJ6RSxlQUFlLENBQUNFLHFDQUNmLDhEQUFDc0U7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNFO29CQUFFRixXQUFVOzhCQUE4Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPckQ7R0FsV3dCekY7O1FBQ1BWLHNEQUFTQTs7O0tBREZVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvc3R1ZGVudC9BSUNoYXQuanM/NDM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvbmF2aWdhdGlvbic7XG5pbXBvcnQgeyBhaUNoYXQsIGF1dGggfSBmcm9tICdAL2xpYi9hcGknO1xuaW1wb3J0IHsgU2VuZCwgTG9hZGVyLCBWb2x1bWUyLCBWb2x1bWVYLCBDaGVja0NpcmNsZSwgVHJvcGh5IH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcblxuY29uc3QgQVVUT19TVVJHRV9TRUVEID0gJ19fQVVUT19TVVJHRV9TVEFSVF9fJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQUlDaGF0Q29tcG9uZW50KHsgbW9kdWxlSWQsIGNoYXB0ZXJJZCB9KSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2lucHV0LCBzZXRJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzc2lTY29yZSwgc2V0U1NJU2NvcmVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFt0dHNFbmFibGVkLCBzZXRUdHNFbmFibGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbdm9pY2UsIHNldFZvaWNlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNDb21wbGV0ZWQsIHNldElzQ29tcGxldGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FsbE1vZHVsZXNDb21wbGV0ZWQsIHNldEFsbE1vZHVsZXNDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmluaXNoaW5nLCBzZXRGaW5pc2hpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvYWRIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFpQ2hhdC5nZXRDaGF0SGlzdG9yeShtb2R1bGVJZCwgY2hhcHRlcklkKTtcbiAgICAgICAgc2V0TWVzc2FnZXMoZGF0YS5jb252ZXJzYXRpb24pO1xuICAgICAgICBpZiAoZGF0YS5zc2lTY29yZSkge1xuICAgICAgICAgIHNldFNTSVNjb3JlKGRhdGEuc3NpU2NvcmUpO1xuICAgICAgICB9XG4gICAgICAgIHNldElzQ29tcGxldGVkKGRhdGEuaXNDb21wbGV0ZWQgfHwgZmFsc2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIG1vZHVsZXMgYW5kIGNoYXB0ZXJzIGFyZSBjb21wbGV0ZWRcbiAgICAgICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgY2hlY2sgLSB0aGUgYmFja2VuZCB3aWxsIHZlcmlmeSBhbGwgY2hhcHRlcnMgYXJlIGFjdHVhbGx5IGNvbXBsZXRlZFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBhdXRoLmdldFByb2ZpbGUoKTtcbiAgICAgICAgICBjb25zdCBtb2R1bGVzUHJvZ3Jlc3MgPSBwcm9maWxlPy5tb2R1bGVzUHJvZ3Jlc3MgfHwgW107XG4gICAgICAgICAgY29uc3QgaGFzTW9kdWxlcyA9IG1vZHVsZXNQcm9ncmVzcy5sZW5ndGggPiAwO1xuICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCBtb2R1bGVzIHNob3cgMTAwJSBjb21wbGV0aW9uIChiYWNrZW5kIHZlcmlmaWVzIGFjdHVhbCBjaGFwdGVyIGNvbXBsZXRpb24pXG4gICAgICAgICAgY29uc3QgYWxsQ29tcGxldGVkID0gaGFzTW9kdWxlcyAmJiBtb2R1bGVzUHJvZ3Jlc3MuZXZlcnkoKG0pID0+IChtLmNvbXBsZXRpb25QZXJjZW50YWdlIHx8IDApID49IDEwMCk7XG4gICAgICAgICAgc2V0QWxsTW9kdWxlc0NvbXBsZXRlZChhbGxDb21wbGV0ZWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIG1vZHVsZSBjb21wbGV0aW9uOicsIGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXV0by1zdGFydCBTVVJHRSBzZXNzaW9uOiBpZiBubyBjb252ZXJzYXRpb24geWV0LCB0cmlnZ2VyIHRoZSBmaXJzdCBBSSBxdWVzdGlvblxuICAgICAgICBpZiAoIWRhdGEuY29udmVyc2F0aW9uIHx8IGRhdGEuY29udmVyc2F0aW9uLmxlbmd0aCA9PT0gMCAmJiAhZGF0YS5pc0NvbXBsZXRlZCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAvLyBTZW5kIGEgaGlkZGVuIHNlZWQgbWVzc2FnZSBzbyB0aGUgZW5naW5lIGNhbiBnZW5lcmF0ZSB0aGUgZmlyc3QgcXVlc3Rpb25cbiAgICAgICAgICAgIGF3YWl0IGFpQ2hhdC5zZW5kTWVzc2FnZShcbiAgICAgICAgICAgICAgbW9kdWxlSWQsXG4gICAgICAgICAgICAgIGNoYXB0ZXJJZCxcbiAgICAgICAgICAgICAgQVVUT19TVVJHRV9TRUVEXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gUmVsb2FkIGhpc3Rvcnkgc28gd2UgcGljayB1cCB0aGUgYXNzaXN0YW50J3MgZmlyc3QgcXVlc3Rpb25cbiAgICAgICAgICAgIGNvbnN0IHNlZWRlZCA9IGF3YWl0IGFpQ2hhdC5nZXRDaGF0SGlzdG9yeShtb2R1bGVJZCwgY2hhcHRlcklkKTtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHNlZWRlZC5jb252ZXJzYXRpb24pO1xuICAgICAgICAgICAgaWYgKHNlZWRlZC5zc2lTY29yZSkgc2V0U1NJU2NvcmUoc2VlZGVkLnNzaVNjb3JlKTtcbiAgICAgICAgICAgIHNldElzQ29tcGxldGVkKHNlZWRlZC5pc0NvbXBsZXRlZCB8fCBmYWxzZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGF1dG8tc3RhcnQgU1VSR0UgY2hhdDonLCBlKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNoYXQgaGlzdG9yeTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBsb2FkSGlzdG9yeSgpO1xuICB9LCBbbW9kdWxlSWQsIGNoYXB0ZXJJZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIC8vIExvYWQgYmVzdC1hdmFpbGFibGUgVFRTIHZvaWNlIG9uY2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgIXdpbmRvdy5zcGVlY2hTeW50aGVzaXMpIHJldHVybjtcblxuICAgIGNvbnN0IHBpY2tCZXN0Vm9pY2UgPSAoKSA9PiB7XG4gICAgICBjb25zdCB2b2ljZXMgPSB3aW5kb3cuc3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpO1xuICAgICAgaWYgKCF2b2ljZXMgfHwgdm9pY2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAvLyBQcmVmZXIgaGlnaC1xdWFsaXR5IEVuZ2xpc2ggbmV1cmFsIHZvaWNlc1xuICAgICAgY29uc3QgcHJlZmVycmVkT3JkZXIgPSBbXG4gICAgICAgICdHb29nbGUgVVMgRW5nbGlzaCcsXG4gICAgICAgICdHb29nbGUgVUsgRW5nbGlzaCcsXG4gICAgICAgICdNaWNyb3NvZnQgR3V5JyxcbiAgICAgICAgJ01pY3Jvc29mdCBBcmlhJyxcbiAgICAgIF07XG5cbiAgICAgIGxldCBzZWxlY3RlZCA9XG4gICAgICAgIHZvaWNlcy5maW5kKCh2KSA9PiBwcmVmZXJyZWRPcmRlci5zb21lKChuYW1lKSA9PiB2Lm5hbWUuaW5jbHVkZXMobmFtZSkpKSB8fFxuICAgICAgICB2b2ljZXMuZmluZCgodikgPT4gdi5sYW5nID09PSAnZW4tVVMnKSB8fFxuICAgICAgICB2b2ljZXMuZmluZCgodikgPT4gdi5sYW5nLnN0YXJ0c1dpdGgoJ2VuJykpIHx8XG4gICAgICAgIHZvaWNlc1swXTtcblxuICAgICAgc2V0Vm9pY2Uoc2VsZWN0ZWQgfHwgbnVsbCk7XG4gICAgfTtcblxuICAgIHBpY2tCZXN0Vm9pY2UoKTtcbiAgICBpZiAod2luZG93LnNwZWVjaFN5bnRoZXNpcy5nZXRWb2ljZXMoKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lcigndm9pY2VzY2hhbmdlZCcsIHBpY2tCZXN0Vm9pY2UpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd2b2ljZXNjaGFuZ2VkJywgcGlja0Jlc3RWb2ljZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8vIFRUUyBmb3IgbGF0ZXN0IGFzc2lzdGFudCBtZXNzYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0dHNFbmFibGVkIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICF3aW5kb3cuc3BlZWNoU3ludGhlc2lzKSByZXR1cm47XG4gICAgY29uc3QgbGFzdCA9IG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghbGFzdCB8fCBsYXN0LnJvbGUgIT09ICdhc3Npc3RhbnQnIHx8ICFsYXN0Lm1lc3NhZ2UpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzeW50aCA9IHdpbmRvdy5zcGVlY2hTeW50aGVzaXM7XG4gICAgICBpZiAoIXN5bnRoKSByZXR1cm47XG4gICAgICBzeW50aC5jYW5jZWwoKTtcbiAgICAgIGNvbnN0IHV0dGVyYW5jZSA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UobGFzdC5tZXNzYWdlKTtcbiAgICAgIGlmICh2b2ljZSkge1xuICAgICAgICB1dHRlcmFuY2Uudm9pY2UgPSB2b2ljZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0dGVyYW5jZS5sYW5nID0gJ2VuLVVTJztcbiAgICAgIH1cbiAgICAgIC8vIFNsaWdodGx5IHR1bmVkIGZvciBtb3JlIG5hdHVyYWwgZmVlbFxuICAgICAgdXR0ZXJhbmNlLnJhdGUgPSAxLjA7XG4gICAgICB1dHRlcmFuY2UucGl0Y2ggPSAxLjA1O1xuICAgICAgdXR0ZXJhbmNlLnZvbHVtZSA9IDEuMDtcbiAgICAgIHN5bnRoLnNwZWFrKHV0dGVyYW5jZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdUVFMgbm90IGF2YWlsYWJsZScsIGUpO1xuICAgIH1cbiAgfSwgW21lc3NhZ2VzLCB0dHNFbmFibGVkLCB2b2ljZV0pO1xuXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFpbnB1dC50cmltKCkgfHwgaXNDb21wbGV0ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlID0geyByb2xlOiAndXNlcicsIG1lc3NhZ2U6IGlucHV0LCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkgfTtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gWy4uLnByZXYsIHVzZXJNZXNzYWdlXSk7XG4gICAgc2V0SW5wdXQoJycpO1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpQ2hhdC5zZW5kTWVzc2FnZShtb2R1bGVJZCwgY2hhcHRlcklkLCBpbnB1dCk7XG4gICAgICBjb25zdCBhaU1lc3NhZ2UgPSB7IHJvbGU6ICdhc3Npc3RhbnQnLCBtZXNzYWdlOiByZXNwb25zZS5haU1lc3NhZ2UsIHRpbWVzdGFtcDogbmV3IERhdGUoKSB9O1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBhaU1lc3NhZ2VdKTtcbiAgICAgIGlmIChyZXNwb25zZS5zc2lTY29yZSkge1xuICAgICAgICBzZXRTU0lTY29yZShyZXNwb25zZS5zc2lTY29yZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0ge1xuICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgICAgbWVzc2FnZTogZXJyb3I/LmVycm9yIHx8IGVycm9yPy5tZXNzYWdlIHx8ICdTb3JyeSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvci4gUGxlYXNlIHRyeSBhZ2Fpbi4nLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9O1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFsuLi5wcmV2LCBlcnJvck1lc3NhZ2VdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmluaXNoQ2hhcHRlciA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoaXNDb21wbGV0ZWQgfHwgZmluaXNoaW5nKSByZXR1cm47XG4gICAgXG4gICAgc2V0RmluaXNoaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFpQ2hhdC5maW5pc2hDaGFwdGVyQ2hhdChtb2R1bGVJZCwgY2hhcHRlcklkKTtcbiAgICAgIHNldElzQ29tcGxldGVkKHRydWUpO1xuICAgICAgaWYgKHJlc3BvbnNlLmZpbmFsU1NJKSB7XG4gICAgICAgIHNldFNTSVNjb3JlKHJlc3BvbnNlLmZpbmFsU1NJKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWx3YXlzIHJlZnJlc2ggcHJvZmlsZSB0byBnZXQgdXBkYXRlZCBjb21wbGV0aW9uIHN0YXR1c1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGF1dGguZ2V0UHJvZmlsZSgpO1xuICAgICAgICBjb25zdCBtb2R1bGVzUHJvZ3Jlc3MgPSBwcm9maWxlPy5tb2R1bGVzUHJvZ3Jlc3MgfHwgW107XG4gICAgICAgIGNvbnN0IGhhc01vZHVsZXMgPSBtb2R1bGVzUHJvZ3Jlc3MubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgYWxsQ29tcGxldGVkID0gaGFzTW9kdWxlcyAmJiBtb2R1bGVzUHJvZ3Jlc3MuZXZlcnkoKG0pID0+IChtLmNvbXBsZXRpb25QZXJjZW50YWdlIHx8IDApID49IDEwMCk7XG4gICAgICAgIHNldEFsbE1vZHVsZXNDb21wbGV0ZWQoYWxsQ29tcGxldGVkIHx8IHJlc3BvbnNlLmFsbE1vZHVsZXNDb21wbGV0ZWQpO1xuICAgICAgICBcbiAgICAgICAgLy8gTG9nIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgY29uc29sZS5sb2coJ01vZHVsZSBjb21wbGV0aW9uIHN0YXR1czonLCB7XG4gICAgICAgICAgbW9kdWxlc1Byb2dyZXNzLFxuICAgICAgICAgIGFsbENvbXBsZXRlZCxcbiAgICAgICAgICBiYWNrZW5kU2F5czogcmVzcG9uc2UuYWxsTW9kdWxlc0NvbXBsZXRlZFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggY29tcGxldGlvbiBzdGF0dXM6JywgZSk7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGJhY2tlbmQgcmVzcG9uc2VcbiAgICAgICAgc2V0QWxsTW9kdWxlc0NvbXBsZXRlZChyZXNwb25zZS5hbGxNb2R1bGVzQ29tcGxldGVkIHx8IGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2hvdyBhcHByb3ByaWF0ZSBtZXNzYWdlXG4gICAgICBpZiAocmVzcG9uc2UuYWxsTW9kdWxlc0NvbXBsZXRlZCkge1xuICAgICAgICBhbGVydCgn8J+OiSBDb25ncmF0dWxhdGlvbnMhIFlvdVxcJ3ZlIGNvbXBsZXRlZCBhbGwgbW9kdWxlcyBhbmQgY2hhcHRlcnMhIFlvdSBjYW4gbm93IHN1Ym1pdCB5b3VyIGlkZWEuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGVydCgn4pyFIENoYXB0ZXIgQUkgc2Vzc2lvbiBjb21wbGV0ZWQhIFlvdXIgZmluYWwgU1NJIHNjb3JlIGZvciB0aGlzIGNoYXB0ZXIgaGFzIGJlZW4gcmVjb3JkZWQuJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmaW5pc2ggY2hhcHRlcjonLCBlcnJvcik7XG4gICAgICBhbGVydCgn4p2MIEZhaWxlZCB0byBmaW5pc2ggY2hhcHRlcjogJyArIChlcnJvcj8uZXJyb3IgfHwgZXJyb3I/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEZpbmlzaGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGJnLXdoaXRlIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItbmV1dHJhbC1ib3JkZXIvNjAgc2hhZG93LWxnIG92ZXJmbG93LWhpZGRlbiBtZDpoLVs1MjBweF0gbWQ6bWF4LWgtWzcwdmhdXCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC1yZWQtZ29sZCB0ZXh0LXdoaXRlIHB4LTQgcHktMyBtZDpwLTYgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIG1iLTFcIj5BSSBDby1Gb3VuZGVyPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIG9wYWNpdHktOTBcIj5Zb3VyIHBlcnNvbmFsaXplZCBsZWFybmluZyBwYXJ0bmVyPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFR0c0VuYWJsZWQoKHYpID0+ICF2KX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSB0ZXh0LXhzIGJnLXdoaXRlLzEwIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctd2hpdGUvMjAgdHJhbnNpdGlvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7dHRzRW5hYmxlZCA/IDxWb2x1bWUyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiA6IDxWb2x1bWVYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICA8c3Bhbj57dHRzRW5hYmxlZCA/ICdWb2ljZSBPbicgOiAnVm9pY2UgT2ZmJ308L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBNZXNzYWdlcyAob3duIHNjcm9sbCwgaW5kZXBlbmRlbnQgZnJvbSBwYWdlIHNjcm9sbCkgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHgtNCBweS0zIG1kOnAtNiBzcGFjZS15LTQgYmctbmV1dHJhbC1saWdodC80MCBzY3JvbGxiYXItdGhpbiBzY3JvbGxiYXItdGh1bWItbmV1dHJhbC1ib3JkZXIvNzAgc2Nyb2xsYmFyLXRyYWNrLXRyYW5zcGFyZW50XCI+XG4gICAgICAgIHttZXNzYWdlcy5maWx0ZXIoXG4gICAgICAgICAgKG0pID0+ICEobS5yb2xlID09PSAndXNlcicgJiYgbS5tZXNzYWdlID09PSBBVVRPX1NVUkdFX1NFRUQpXG4gICAgICAgICkubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgaC1mdWxsIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW5ldXRyYWwtbWVkaXVtIG1iLTJcIj5TdGFydCB5b3VyIGNvbnZlcnNhdGlvbjwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW5ldXRyYWwtbWVkaXVtXCI+QXNrIHF1ZXN0aW9ucyBhbmQgc2hhcmUgeW91ciBpZGVhczwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIG1lc3NhZ2VzXG4gICAgICAgICAgICAuZmlsdGVyKFxuICAgICAgICAgICAgICAobXNnKSA9PiAhKG1zZy5yb2xlID09PSAndXNlcicgJiYgbXNnLm1lc3NhZ2UgPT09IEFVVE9fU1VSR0VfU0VFRClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5tYXAoKG1zZywgaWR4KSA9PiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e2lkeH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7bXNnLnJvbGUgPT09ICd1c2VyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1heC13LXhzIHB4LTQgcHktMiByb3VuZGVkLWxnICR7XG4gICAgICAgICAgICAgICAgICAgIG1zZy5yb2xlID09PSAndXNlcidcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5LXJlZCB0ZXh0LXdoaXRlIHJvdW5kZWQtYnItbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1uZXV0cmFsLWxpZ2h0IHRleHQtbmV1dHJhbC1kYXJrIHJvdW5kZWQtYmwtbm9uZSdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxwPnttc2cubWVzc2FnZX08L3A+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzAgbXQtMSBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICB7bmV3IERhdGUobXNnLnRpbWVzdGFtcCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSlcbiAgICAgICAgKX1cbiAgICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktc3RhcnRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctbmV1dHJhbC1saWdodCBwLTQgcm91bmRlZC1sZyBhbmltYXRlLXB1bHNlXCI+XG4gICAgICAgICAgICAgIDxMb2FkZXIgY2xhc3NOYW1lPVwidy01IGgtNSBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU1NJIFNjb3JlIERpc3BsYXkgKi99XG4gICAgICB7c3NpU2NvcmUgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1uZXV0cmFsLWJvcmRlciBwLTQgYmctcHJpbWFyeS1saWdodFJlZFwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXByaW1hcnktcmVkIG1iLTJcIj5DdXJyZW50IFNTSSBTY29yZToge3NzaVNjb3JlLm92ZXJhbGx9LzEwMDwvcD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTUgZ2FwLTIgdGV4dC14c1wiPlxuICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgeyBsYWJlbDogJ1MnLCBrZXk6ICdzZWxmQXdhcmVuZXNzJyB9LFxuICAgICAgICAgICAgICB7IGxhYmVsOiAnVScsIGtleTogJ3VuZGVyc3RhbmRpbmdPcHBvcnR1bml0aWVzJyB9LFxuICAgICAgICAgICAgICB7IGxhYmVsOiAnUicsIGtleTogJ3Jlc2lsaWVuY2UnIH0sXG4gICAgICAgICAgICAgIHsgbGFiZWw6ICdHJywga2V5OiAnZ3Jvd3RoRXhlY3V0aW9uJyB9LFxuICAgICAgICAgICAgICB7IGxhYmVsOiAnRScsIGtleTogJ2VudHJlcHJlbmV1cmlhbExlYWRlcnNoaXAnIH0sXG4gICAgICAgICAgICBdLm1hcCgoaXRlbSkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5rZXl9IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LWJvbGQgdGV4dC1wcmltYXJ5LXJlZFwiPntpdGVtLmxhYmVsfTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+e3NzaVNjb3JlW2l0ZW0ua2V5XSB8fCAwfSU8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEZpbmlzaCBDaGFwdGVyIEJ1dHRvbiAqL31cbiAgICAgIHshaXNDb21wbGV0ZWQgJiYgbWVzc2FnZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLW5ldXRyYWwtYm9yZGVyIHAtNCBiZy1hY2NlbnQtZ29sZCBiZy1vcGFjaXR5LTEwXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRmluaXNoQ2hhcHRlcn1cbiAgICAgICAgICAgIGRpc2FibGVkPXtmaW5pc2hpbmcgfHwgaXNMb2FkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIGJnLWFjY2VudC1nb2xkIHRleHQtd2hpdGUgcHgtNCBweS0zIHJvdW5kZWQtbGcgaG92ZXI6YmctYWNjZW50LWFtYmVyIGRpc2FibGVkOm9wYWNpdHktNTAgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1zZW1pYm9sZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAge2ZpbmlzaGluZyA/ICdGaW5pc2hpbmcuLi4nIDogJ0ZpbmlzaCBDaGFwdGVyICYgRmluYWxpemUgU1NJIFNjb3JlJ31cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC1tZWRpdW0gbXQtMiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgQ2xpY2sgdG8gZW5kIHRoaXMgY2hhcHRlcidzIEFJIHNlc3Npb24gYW5kIHJlY29yZCB5b3VyIGZpbmFsIFNTSSBzY29yZVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogQWxsIE1vZHVsZXMgQ29tcGxldGVkIC0gU3VibWl0IElkZWEgQnV0dG9uICovfVxuICAgICAge2lzQ29tcGxldGVkICYmIGFsbE1vZHVsZXNDb21wbGV0ZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1uZXV0cmFsLWJvcmRlciBwLTQgYmctc2VtYW50aWMtc3VjY2VzcyBiZy1vcGFjaXR5LTEwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi0zXCI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtc2VtYW50aWMtc3VjY2VzcyBtYi0xXCI+8J+OiSBDb25ncmF0dWxhdGlvbnMhPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW5ldXRyYWwtbWVkaXVtXCI+WW91J3ZlIGNvbXBsZXRlZCBhbGwgbW9kdWxlcyBhbmQgY2hhcHRlcnMhPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKCcvc3R1ZGVudC9zdWJtaXNzaW9uJyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgYmctc2VtYW50aWMtc3VjY2VzcyB0ZXh0LXdoaXRlIHB4LTQgcHktMyByb3VuZGVkLWxnIGhvdmVyOmJnLWdyZWVuLTYwMCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LXNlbWlib2xkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VHJvcGh5IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgU3VibWl0IFlvdXIgSWRlYVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBJbnB1dCAqL31cbiAgICAgIHshaXNDb21wbGV0ZWQgJiYgKFxuICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU2VuZE1lc3NhZ2V9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1uZXV0cmFsLWJvcmRlciBwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtpbnB1dH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2UuLi5cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNCBweS0yIGJvcmRlciBib3JkZXItbmV1dHJhbC1ib3JkZXIgcm91bmRlZC1sZyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6Ym9yZGVyLXByaW1hcnktcmVkXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nIHx8ICFpbnB1dC50cmltKCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnktcmVkIHRleHQtd2hpdGUgcHgtNCBweS0yIHJvdW5kZWQtbGcgaG92ZXI6YmctcHJpbWFyeS1kYXJrUmVkIGRpc2FibGVkOm9wYWNpdHktNTAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U2VuZCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICApfVxuXG4gICAgICB7LyogQ29tcGxldGVkIE1lc3NhZ2UgKi99XG4gICAgICB7aXNDb21wbGV0ZWQgJiYgIWFsbE1vZHVsZXNDb21wbGV0ZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1uZXV0cmFsLWJvcmRlciBwLTQgYmctbmV1dHJhbC1saWdodCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1uZXV0cmFsLW1lZGl1bVwiPlxuICAgICAgICAgICAg4pyFIFRoaXMgY2hhcHRlcidzIEFJIHNlc3Npb24gaXMgY29tcGxldGUuIFlvdXIgZmluYWwgU1NJIHNjb3JlIGhhcyBiZWVuIHJlY29yZGVkLlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJhaUNoYXQiLCJhdXRoIiwiU2VuZCIsIkxvYWRlciIsIlZvbHVtZTIiLCJWb2x1bWVYIiwiQ2hlY2tDaXJjbGUiLCJUcm9waHkiLCJBVVRPX1NVUkdFX1NFRUQiLCJBSUNoYXRDb21wb25lbnQiLCJtb2R1bGVJZCIsImNoYXB0ZXJJZCIsInJvdXRlciIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJpbnB1dCIsInNldElucHV0IiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic3NpU2NvcmUiLCJzZXRTU0lTY29yZSIsInR0c0VuYWJsZWQiLCJzZXRUdHNFbmFibGVkIiwidm9pY2UiLCJzZXRWb2ljZSIsImlzQ29tcGxldGVkIiwic2V0SXNDb21wbGV0ZWQiLCJhbGxNb2R1bGVzQ29tcGxldGVkIiwic2V0QWxsTW9kdWxlc0NvbXBsZXRlZCIsImZpbmlzaGluZyIsInNldEZpbmlzaGluZyIsIm1lc3NhZ2VzRW5kUmVmIiwibG9hZEhpc3RvcnkiLCJkYXRhIiwiZ2V0Q2hhdEhpc3RvcnkiLCJjb252ZXJzYXRpb24iLCJwcm9maWxlIiwiZ2V0UHJvZmlsZSIsIm1vZHVsZXNQcm9ncmVzcyIsImhhc01vZHVsZXMiLCJsZW5ndGgiLCJhbGxDb21wbGV0ZWQiLCJldmVyeSIsIm0iLCJjb21wbGV0aW9uUGVyY2VudGFnZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJzZW5kTWVzc2FnZSIsInNlZWRlZCIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwid2luZG93Iiwic3BlZWNoU3ludGhlc2lzIiwicGlja0Jlc3RWb2ljZSIsInZvaWNlcyIsImdldFZvaWNlcyIsInByZWZlcnJlZE9yZGVyIiwic2VsZWN0ZWQiLCJmaW5kIiwidiIsInNvbWUiLCJuYW1lIiwiaW5jbHVkZXMiLCJsYW5nIiwic3RhcnRzV2l0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwibGFzdCIsInJvbGUiLCJtZXNzYWdlIiwic3ludGgiLCJjYW5jZWwiLCJ1dHRlcmFuY2UiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJyYXRlIiwicGl0Y2giLCJ2b2x1bWUiLCJzcGVhayIsIndhcm4iLCJoYW5kbGVTZW5kTWVzc2FnZSIsInByZXZlbnREZWZhdWx0IiwidHJpbSIsInVzZXJNZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsInByZXYiLCJyZXNwb25zZSIsImFpTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsImhhbmRsZUZpbmlzaENoYXB0ZXIiLCJmaW5pc2hDaGFwdGVyQ2hhdCIsImZpbmFsU1NJIiwibG9nIiwiYmFja2VuZFNheXMiLCJhbGVydCIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwicCIsImJ1dHRvbiIsInR5cGUiLCJvbkNsaWNrIiwic3BhbiIsImZpbHRlciIsIm1zZyIsIm1hcCIsImlkeCIsInRvTG9jYWxlVGltZVN0cmluZyIsInJlZiIsIm92ZXJhbGwiLCJsYWJlbCIsImtleSIsIml0ZW0iLCJkaXNhYmxlZCIsInB1c2giLCJmb3JtIiwib25TdWJtaXQiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwicGxhY2Vob2xkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/student/AIChat.js\n"));

/***/ })

});