(()=>{var e={};e.id=331,e.ids=[331],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},70700:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(44772),s(5986),s(92393),s(35866);var r=s(23191),a=s(88716),l=s(37922),i=s.n(l),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["admin",{children:["schools",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,44772)),"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/admin/schools/page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,5986)),"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/admin/layout.js"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,92393)),"/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/admin/schools/page.js"],u="/admin/schools/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/schools/page",pathname:"/admin/schools",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4711:(e,t,s)=>{Promise.resolve().then(s.bind(s,69339))},21620:(e,t,s)=>{Promise.resolve().then(s.bind(s,35864))},69339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(10326),a=s(17577),l=s(35047);function i({children:e}){(0,l.useRouter)();let[t,s]=(0,a.useState)(!1),[i,n]=(0,a.useState)(!0);return i?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white",children:"Loading..."}):t?r.jsx("div",{className:"min-h-screen bg-neutral-light",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("aside",{className:"w-64 bg-white border-r border-neutral-border min-h-screen",children:(0,r.jsxs)("nav",{className:"p-6 space-y-4",children:[r.jsx("div",{className:"mb  -8",children:r.jsx("h3",{className:"font-bold text-lg gradient-text",children:"Admin Panel"})}),r.jsx("a",{href:"/admin",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83D\uDCCA Dashboard"}),r.jsx("a",{href:"/admin/students",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83D\uDC65 Students"}),r.jsx("a",{href:"/admin/modules",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83D\uDCDA Modules"}),r.jsx("a",{href:"/admin/submissions",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83D\uDCCB Submissions"}),r.jsx("a",{href:"/admin/analytics",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83D\uDCC8 Analytics"}),r.jsx("a",{href:"/admin/schools",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition",children:"\uD83C\uDFEB School Slugs"}),r.jsx("hr",{className:"my-4"}),r.jsx("a",{href:"/",className:"block px-4 py-2 rounded-lg hover:bg-primary-lightRed text-neutral-dark hover:text-primary-red transition text-sm",children:"\uD83C\uDFE0 Back to Home"})]})}),r.jsx("main",{className:"flex-1 p-8",children:e})]})}):r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-white",children:"Redirecting..."})}s(88646)},35864:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(10326),a=s(17577),l=s(89420),i=s(67649),n=s(92332),o=s(79361);let d=(0,s(87926).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);var c=s(73183);function u(){let[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(null),[g,b]=(0,a.useState)({name:"",slug:"",description:"",price:499,isActive:!0}),j=async()=>{try{u(!0);let e=await l.SA.getSchoolSlugs();t(e.map(e=>e.slug?e:e._doc?{...e._doc,studentCount:e.studentCount||0}:e))}catch(e){console.error("Failed to fetch school slugs:",e)}finally{u(!1)}},v=e=>{x(e),b({name:e.name,slug:e.slug,description:e.description||"",price:e.price,isActive:e.isActive}),p(!0)},f=async e=>{if(e.preventDefault(),!g.name||!g.slug||!g.price){alert("Name, slug and price are required.");return}try{h?await l.SA.updateSchoolSlug(h._id,{...g,price:Number(g.price)}):await l.SA.createSchoolSlug({...g,price:Number(g.price)}),p(!1),x(null),await j()}catch(e){console.error("Failed to save school slug:",e),alert(e?.error||"Failed to save school slug")}},y=async e=>{if(confirm(`Delete slug "${e.slug}"? This will not remove existing students, only the slug config.`))try{await l.SA.deleteSchoolSlug(e._id),await j()}catch(e){console.error("Failed to delete school slug:",e),alert("Failed to delete")}};return s?r.jsx(i.Z,{message:"Loading school slugs..."}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"School Slugs & Cohorts"}),(0,r.jsxs)("button",{onClick:()=>{x(null),b({name:"",slug:"",description:"",price:499,isActive:!0}),p(!0)},className:"flex items-center gap-2 bg-primary-red text-white px-4 py-2 rounded-lg hover:bg-primary-darkRed transition",children:[r.jsx(n.Z,{className:"w-5 h-5"}),"New School Slug"]})]}),m&&(0,r.jsxs)("div",{className:"card mb-8",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:h?"Edit School Slug":"Create School Slug"}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"School Name *"}),r.jsx("input",{type:"text",value:g.name,onChange:e=>b({...g,name:e.target.value}),className:"w-full px-3 py-2 border border-neutral-border rounded-lg",placeholder:"e.g. Delhi Public School - Indiranagar"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Slug (URL-safe, lowercase) *",r.jsx("span",{className:"block text-xs text-neutral-medium",children:"Used in signup link: /signup?slug=<slug>"})]}),r.jsx("input",{type:"text",value:g.slug,onChange:e=>b({...g,slug:e.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full px-3 py-2 border border-neutral-border rounded-lg",placeholder:"e.g. dps-indiranagar-2025"})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Discounted Price (₹) *",r.jsx("span",{className:"block text-xs text-neutral-medium",children:"Students registering via this slug will pay this price (default is ₹999)."})]}),r.jsx("input",{type:"number",min:0,value:g.price,onChange:e=>b({...g,price:Number(e.target.value)}),className:"w-full px-3 py-2 border border-neutral-border rounded-lg"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),(0,r.jsxs)("select",{value:g.isActive?"active":"inactive",onChange:e=>b({...g,isActive:"active"===e.target.value}),className:"w-full px-3 py-2 border border-neutral-border rounded-lg",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"}),r.jsx("textarea",{value:g.description,onChange:e=>b({...g,description:e.target.value}),className:"w-full px-3 py-2 border border-neutral-border rounded-lg h-20",placeholder:"Notes about this school/cohort or special terms."})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:()=>{p(!1),x(null)},className:"px-4 py-2 bg-neutral-light text-neutral-dark rounded-lg hover:bg-neutral-border transition",children:"Cancel"}),r.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary-red text-white rounded-lg hover:bg-primary-darkRed transition",children:h?"Save Changes":"Create Slug"})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h3",{className:"font-bold text-lg mb-4",children:"Active School Slugs"}),0===e.length?r.jsx("p",{className:"text-neutral-medium text-sm",children:"No school slugs yet. Create one to get started."}):r.jsx("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"border border-neutral-border rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("h4",{className:"font-bold text-lg",children:e.name}),!e.isActive&&r.jsx("span",{className:"badge badge-red text-xs",children:"Inactive"})]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-medium mb-1",children:["Slug: ",r.jsx("span",{className:"font-mono",children:e.slug})]}),(0,r.jsxs)("p",{className:"text-sm text-neutral-medium mb-1",children:["Price: ",(0,r.jsxs)("span",{className:"font-semibold",children:["₹",e.price]})," (default: ₹999)"]}),e.description&&r.jsx("p",{className:"text-sm text-neutral-medium line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-neutral-medium",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[r.jsx(o.Z,{className:"w-3 h-3"}),e.studentCount||0," students"]}),!1]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>v(e),className:"flex items-center gap-1 px-3 py-2 text-primary-red hover:bg-primary-lightRed rounded-lg transition text-sm",children:[r.jsx(d,{className:"w-4 h-4"}),"Edit"]}),(0,r.jsxs)("button",{onClick:()=>y(e),className:"flex items-center gap-1 px-3 py-2 text-semantic-error hover:bg-red-50 rounded-lg transition text-sm",children:[r.jsx(c.Z,{className:"w-4 h-4"}),"Delete"]})]})]},e._id))})]})]})}},67649:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(10326);function a({size:e="md",message:t="Loading..."}){return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:`${{sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16"}[e]} border-4 border-neutral-light border-t-primary-red rounded-full animate-spin`}),t&&r.jsx("p",{className:"mt-4 text-neutral-medium",children:t})]})}},5986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/admin/layout.js#default`)},44772:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/prashantjadon/Desktop/personalfreeprojects/futuretitansLastProject/frontend/app/admin/schools/page.js#default`)},92332:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(87926).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(87926).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(87926).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[999,210],()=>s(70700));module.exports=r})();